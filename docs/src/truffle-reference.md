# truffle example project

This page captures a representative Truffle workspace so we can compare conventions while designing jammin. The layout below mirrors the scaffolding generated by `truffle init` plus the most common tweaks teams add in production projects.

## Directory structure

```text
.
├── contracts/
│   ├── Migrations.sol
│   └── WorkRegistry.sol
├── migrations/
│   ├── 1_initial_migration.js
│   └── 2_deploy_work_registry.js
├── test/
│   ├── workRegistry.test.js
│   └── helpers/
│       └── time.js
├── scripts/
│   └── mint-work-items.js
├── truffle-config.js
├── package.json
└── README.md
```

## Key files

- `contracts/` contains Solidity sources; `Migrations.sol` ships by default and `WorkRegistry.sol` represents a user contract.
- `migrations/` stores deployment scripts that Truffle executes sequentially. File names start with incremental ordinals to define order.
- `scripts/` is optional but common for reusable tasks (minting tokens, seeding work items).
- `test/` supports JS/TS or Solidity tests; helpers often live in subfolders for time or math utilities.
- `truffle-config.js` holds network definitions, compiler settings, and plugin toggles.

## Sample files

**truffle-config.js**

```js
require("dotenv").config();

module.exports = {
  networks: {
    development: {
      host: "127.0.0.1",
      port: 8545,
      network_id: "*"
    },
    typeberryDev: {
      provider: () => new HDWalletProvider(process.env.DEPLOYER_KEY, "http://127.0.0.1:9944"),
      network_id: 42,
      skipDryRun: true
    }
  },
  compilers: {
    solc: {
      version: "0.8.21",
      settings: {
        optimizer: {
          enabled: true,
          runs: 200
        }
      }
    }
  },
  plugins: ["truffle-plugin-verify"]
};
```

**2_deploy_work_registry.js**

```js
const WorkRegistry = artifacts.require("WorkRegistry");

module.exports = async function (deployer, network, accounts) {
  const curator = accounts[0];
  await deployer.deploy(WorkRegistry, curator);
  const registry = await WorkRegistry.deployed();
  console.log(`Registry deployed on ${network} at ${registry.address}`);
};
```

These artifacts illustrate why jammin needs opinionated migrations, environment files, and plugin points similar to Truffle while targeting Typeberry-specific workflows.
