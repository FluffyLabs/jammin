# Valid jammin.build.yml - Full-featured example
# This config demonstrates all valid features

custom-polkajam: &custom-polkajam
  image: polkajam/sdk:v1.2.0
  build: polkajam -m service
  test: polkajam test --coverage

services:
  - path: ./services/auth.ts
    name: auth-service
    sdk: jam-sdk-0.1.26

  - path: ./services/calculator.rs
    name: calculator
    sdk: *custom-polkajam

  - path: ./services/storage.go
    name: storage_service
    sdk:
      image: spacejam/jade:v2.1
      build: jade build --optimize
      test: jade test

deployment:
  spawn: local
  services:
    auth-service:
      id: 12345
      info:
        balance: "100000000000"
        accumulate_min_gas: "100000"
        on_transfer_min_gas: "50000"
        storage_utilisation_bytes: "2048"
        gratis_storage: "1024"
        storage_utilisation_count: 10
        created: 100
        last_accumulation: 200
        parent_service: 1
    calculator:
      id: 1234
      storage:
        abcd: test
